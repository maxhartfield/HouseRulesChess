<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>House Rules Chess</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.css" />
    <script>
        (function () {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            const onPages = location.hostname.endsWith('github.io');
            // Local dev (served from project root):     /styles.css
            // GitHub Pages (project under /HouseRulesChess/): /HouseRulesChess/styles.css
            link.href = onPages ? '/HouseRulesChess/styles.css' : '/styles.css';
            document.head.appendChild(link);
        })();
    </script>
</head>

<body>
    <h1>House Rules Chess</h1>
    <div class="game-info">
        <p id="gameId">Loading...</p>
        <div class="status" id="status">Connecting...</div>
        <p class="link" id="shareLink"></p>
    </div>

    <div id="board"></div>

    <!-- Chess libraries (jQuery must load first for Chessboard.js) -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.js"></script>

    <!-- Load your app logic -->
    <script>
        (function () {
            const s = document.createElement('script');
            s.type = 'module';
            const onGitHubPages = location.hostname.endsWith('github.io');

            // Always load from a known absolute path:
            // - Local dev server (root):        /firebase.js
            // - GitHub Pages project path:      /HouseRulesChess/firebase.js
            s.src = onGitHubPages ? '/HouseRulesChess/firebase.js' : '/firebase.js';

            document.head.appendChild(s);
        })();
    </script>


</body>

</html>